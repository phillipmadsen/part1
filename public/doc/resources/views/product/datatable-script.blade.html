<!DOCTYPE html><html lang="en"><head><title>resources/views/product/datatable-script.blade</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="resources/views/product/datatable-script.blade"><meta name="groc-project-path" content="resources/views/product/datatable-script.blade.php"><meta name="groc-github-url" content="https://github.com/phillipmadsen/part1"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/phillipmadsen/part1/blob/master/resources/views/product/datatable-script.blade.php">resources/views/product/datatable-script.blade.php</a></div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">&lt;script src=<span class="hljs-string">"//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"</span>&gt;&lt;/script&gt;
&lt;script src=<span class="hljs-string">"//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"</span>&gt;&lt;/script&gt;
&lt;script&gt;
    $(document).ready( <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
        $(<span class="hljs-string">'#product_table'</span>).DataTable({
            select: <span class="hljs-keyword">false</span>,
            <span class="hljs-string">"ajax"</span>: {
                <span class="hljs-string">"url"</span>: <span class="hljs-string">"/api/product"</span>,
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"POST"</span>,
                headers: {
                    <span class="hljs-string">'X-CSRF-TOKEN'</span>: $(<span class="hljs-string">'meta[name="csrf-token"]'</span>).attr(<span class="hljs-string">'content'</span>)
                }
            },
            <span class="hljs-string">"columns"</span>: [
                { <span class="hljs-string">"data"</span>: <span class="hljs-string">"Id"</span>},
                { <span class="hljs-string">"data"</span>: <span class="hljs-string">"Name"</span>,
                    <span class="hljs-string">"render"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data,type,row,meta)</span> </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-string">'&lt;a href="/product/'</span>+row.Id+<span class="hljs-string">'/edit"&gt;'</span>+data+<span class="hljs-string">'&lt;/a&gt;'</span>;
                    }
                },
                { <span class="hljs-string">"data"</span>: <span class="hljs-string">"Created"</span>,
                    <span class="hljs-string">"render"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">( data, type, full, meta )</span> </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>instantiate a moment object and hand it the string date</p></div></div><div class="code"><div class="wrapper">                        <span class="hljs-keyword">var</span> d = moment(data);
                        <span class="hljs-keyword">var</span> month = d.month() +<span class="hljs-number">1</span> &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">"0"</span> + (d.month() +<span class="hljs-number">1</span>) : d.month() +<span class="hljs-number">1</span>;
                        <span class="hljs-keyword">var</span> day = d.date()  &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">"0"</span> + (d.date()): d.date();
                        <span class="hljs-keyword">return</span> month + <span class="hljs-string">"/"</span> + day + <span class="hljs-string">"/"</span> + d.year();
                    }
                },
                {<span class="hljs-string">"defaultContent"</span>: <span class="hljs-string">"null"</span>, <span class="hljs-string">"render"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data,type,row,meta)</span> </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-string">'&lt;a href="/product/'</span>+row.Id+<span class="hljs-string">'/edit"&gt;'</span>+ <span class="hljs-string">'&lt;button&gt;Edit&lt;/button&gt;'</span> + <span class="hljs-string">'&lt;/a&gt;&lt;a href="/product/'</span>+row.Id+<span class="hljs-string">'"&gt;'</span>+ <span class="hljs-string">'&lt;button&gt;View&lt;/button&gt;'</span> + <span class="hljs-string">'&lt;/a&gt;'</span>;
                }
                }
            ]
        });
    } );
&lt;/script&gt;</div></div></div></div></body></html>